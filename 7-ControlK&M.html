<html>

<head>

</head>

<body>
    <canvas width="480px" height="360px" id="canvas"></canvas>
    <script>
        var canvas = document.getElementById("canvas");
        var ctx = canvas.getContext("2d");
        var x = 240;
        var y = 180;
        var keyStatus = {};
        var mouseX, mouseY;

        document.addEventListener("keydown", function (event) {//Type，如果成立执行的事件(返回的对象)
            keyStatus[event.keyCode] = true;
            /*if (event.keyCode == 65) { //keycode为数字，不区分大小写；key为字符串，区分
                x = x - 1;
            } else if (event.keyCode == 87) {
                y = y - 1;
            } else if (event.keyCode == 68) {
                x = x + 1;
            } else if (event.keyCode == 83) {
                y = y + 1;
            }*/ //由于限制，此方式不平滑
        })
        document.addEventListener("keyup", function (event) {
            keyStatus[event.keyCode] = false;
        })
        //鼠标： mousedown mouseup mousemove
        document.addEventListener("mousemove", function (event) {
            mouseX = event.clientX;
            mouseY = event.clientY;
        })
        document.addEventListener("mousedown", function (event) {
            //alert(event);//botton 左键0右键2 bottons 左键1右键2
            x = mouseX;
            y = mouseY;
        })

        window.setInterval(function () {
            ctx.clearRect(0, 0, 480, 360);
            if (keyStatus[65]) {//默认为布尔值
                x = x - 1;
            }
            if (keyStatus[87]) {
                y = y - 1;
            }
            if (keyStatus[68]) {
                x = x + 1;
            }
            if (keyStatus[83]) {
                y = y + 1;
            }
            ctx.beginPath();
            ctx.moveTo(x - 30, y);
            ctx.arc(x, y, 30, 0, Math.PI * 2);
            ctx.fillStyle = "#0000FF";
            ctx.fill();
        }, 25)//放在循环外


    </script>
</body>

</html>